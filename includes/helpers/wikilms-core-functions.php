<?php

/**
 * The file that defines wikilsm core function
 *
 * @link       https://devthrow.com
 * @since      1.0.0
 *
 * @package    Wikilms
 * @subpackage Wikilms/includes
 */

if ( ! defined( 'ABSPATH' ) ) exit; // Exit if accessed directly   

/**
 * Wikilms course info
 */

function wikilms_course_info()
    {
        
    $price =  get_post_meta( get_the_ID(), 'wikilms_price', true );
    $duration =  get_post_meta( get_the_ID(), 'wikilms_duration', true );
    $skill_level =  get_post_meta( get_the_ID(), 'wikilms_level', true );
    $max_students =  get_post_meta( get_the_ID(), 'wikilms_students', true );
    $course_access =  get_post_meta( get_the_ID(), 'wikilms_access', true );
    $course_language =  get_post_meta( get_the_ID(), 'wikilms_language', true );
    $contact_shortcodes =  get_post_meta( get_the_ID(), 'contact_shortcodes', true );

    ?>

    <div class="wikilms-course-info">

      <h4 class="wikilms-course-info-title"><?php esc_html_e('Course Info :', 'wikilms');?></h4>

      <ul class="wikilms-course-info-list">

        <?php if ( $price ): ?>
        <li>
          <i><svg id="fi_8200476" enable-background="new 0 0 512 512" height="15" viewBox="0 0 512 512" width="15" xmlns="http://www.w3.org/2000/svg"><g><path d="m196 256c0 33.084 26.916 60 60 60 11.028 0 20 8.972 20 20s-8.972 20-20 20c-7.119 0-13.762-3.836-17.335-10.012-5.533-9.562-17.77-12.826-27.328-7.295-9.561 5.532-12.826 17.767-7.295 27.327 7.239 12.511 18.696 21.809 31.96 26.519v23.461c0 11.046 8.954 20 20 20s20-8.954 20-20v-23.441c23.277-8.257 39.998-30.487 39.998-56.559 0-33.084-26.916-60-60-60-11.028 0-20-8.972-20-20s8.972-20 20-20c7.119 0 13.762 3.837 17.336 10.013 5.532 9.561 17.767 12.825 27.328 7.293s12.825-17.768 7.293-27.328c-7.239-12.509-18.694-21.806-31.955-26.517v-23.461c0-11.046-8.954-20-20-20s-20 8.954-20 20v23.44c-23.279 8.255-40.002 30.486-40.002 56.56z"></path><path d="m452 0h-292c-44.112 0-80 35.888-80 80v312h-60c-11.046 0-20 8.954-20 20v40c0 33.084 26.916 60 60 60h312c33.084 0 60-26.916 60-60v-332h60c11.046 0 20-8.954 20-20v-40.007c0-33.08-26.916-59.993-60-59.993zm-412 432h40v20c0 11.028-8.972 20-20 20s-20-8.972-20-20zm352 20c0 11.028-8.972 20-20 20h-255.44c2.22-6.26 3.44-12.988 3.44-20v-372c0-22.056 17.944-40 40-40s40 17.944 40 39.999l-.001 20c0 11.042 8.958 20.001 20 20.001h172.001zm80-372h-232c0-14.56-3.911-28.226-10.736-40h222.736c11.028 0 20 8.969 20 19.993z"></path></g></svg></i>
          <span class="label"><?php esc_html_e('Price :', 'wikilms');?></span>
          <span class="value wikilms-price"><?php echo esc_html( $price ); ?></span>
        </li>
        <?php endif; ?>

        <?php if ( $duration ): ?>
        <li>
          <i><svg height="15" viewBox="0 0 384 384" width="15" xmlns="http://www.w3.org/2000/svg" id="fi_1124602"><path d="m343.59375 101.039062c-7.953125 3.847657-11.28125 13.417969-7.433594 21.367188 10.511719 21.714844 15.839844 45.121094 15.839844 69.59375 0 88.222656-71.777344 160-160 160s-160-71.777344-160-160 71.777344-160 160-160c36.558594 0 70.902344 11.9375 99.328125 34.519531 6.894531 5.503907 16.976563 4.351563 22.480469-2.566406 5.503906-6.914063 4.351562-16.984375-2.570313-22.480469-33.652343-26.746094-76-41.472656-119.238281-41.472656-105.863281 0-192 86.136719-192 192s86.136719 192 192 192 192-86.136719 192-192c0-29.335938-6.40625-57.449219-19.039062-83.527344-3.839844-7.96875-13.441407-11.289062-21.367188-7.433594zm0 0"></path><path d="m192 64c-8.832031 0-16 7.167969-16 16v112c0 8.832031 7.167969 16 16 16h80c8.832031 0 16-7.167969 16-16s-7.167969-16-16-16h-64v-96c0-8.832031-7.167969-16-16-16zm0 0"></path></svg></i>
          <span class="label"><?php esc_html_e('Duration :', 'wikilms');?></span>
          <span class="value"><?php echo esc_html( $duration ); ?></span>
        </li>
        <?php endif; ?>
        <?php if ( $max_students  ): ?>
        <li>
          <i><svg id="fi_3068380" enable-background="new 0 0 511.989 511.989" height="16" viewBox="0 0 511.989 511.989" width="16" xmlns="http://www.w3.org/2000/svg"><g><path d="m470.994 330c0-24.146-17.205-44.348-40-48.994v-54.006c0-4.92-2.412-9.526-6.456-12.329s-9.206-3.445-13.811-1.716l-28.629 10.736c-18.8-19.545-41.652-34.266-66.694-43.303 24.608-18.234 40.59-47.478 40.59-80.388 0-55.141-44.859-100-100-100s-100 44.859-100 100c0 32.91 15.982 62.154 40.59 80.388-25.043 9.038-47.894 23.759-66.694 43.303l-28.629-10.736c-4.606-1.729-9.768-1.087-13.811 1.716-4.044 2.803-6.456 7.409-6.456 12.329v54.006c-22.795 4.646-40 24.847-40 48.994s17.205 44.348 40 48.994v58.006c0 6.253 3.879 11.85 9.733 14.045l160 60c3.374 1.258 7.159 1.258 10.533 0l160-60c5.854-2.195 9.733-7.792 9.733-14.045v-58.006c22.796-4.646 40.001-24.848 40.001-48.994zm-285-230c0-38.598 31.402-70 70-70s70 31.402 70 70-31.402 70-70 70-70-31.402-70-70zm70 100c35.143 0 68.709 12.701 94.899 35.393l-94.899 35.587-94.899-35.587c26.191-22.692 59.757-35.393 94.899-35.393zm-185 130c0-11.028 8.972-20 20-20h10v40h-10c-11.028 0-20-8.972-20-20zm40 49.497c11.397-2.323 20-12.424 20-24.497v-50c0-12.073-8.603-22.174-20-24.497v-31.858l130 48.75v177.961l-130-48.75zm160 95.858v-177.96l130-48.75v31.858c-11.397 2.323-20 12.424-20 24.497v50c0 12.073 8.603 22.174 20 24.497v47.108zm150-125.355h-10v-40h10c11.028 0 20 8.972 20 20s-8.971 20-20 20z"></path></g></svg></i>
          <span class="label"><?php esc_html_e('Max Students :', 'wikilms');?></span>
          <span class="value"><?php echo esc_html( $max_students ); ?></span>
        </li>
        <?php endif; ?>
        <?php if ( $skill_level ): ?>
        <li>
          <i><svg height="15" viewBox="0 0 32 32" width="15" xmlns="http://www.w3.org/2000/svg" id="fi_7131854"><g id="Layer_14" data-name="Layer 14"><path d="m18 10h-4a2 2 0 0 0 -2 2v15a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-15a2 2 0 0 0 -2-2zm-4 17v-15h4v15zm14-24h-4a2 2 0 0 0 -2 2v22a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-22a2 2 0 0 0 -2-2zm-4 24v-22h4v22zm-16-10h-4a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-8a2 2 0 0 0 -2-2zm-4 10v-8h4v8z"></path></g></svg></i>
          <span class="label"><?php esc_html_e('Skill Level :', 'wikilms');?></span>
          <span class="value"><?php echo esc_html( $skill_level ); ?></span>
        </li>
        <?php endif; ?>

      <?php if ( $course_access ): ?>
      <li>
        <i><svg enable-background="new 0 0 32 32" height="16" viewBox="0 0 32 32" width="16" xmlns="http://www.w3.org/2000/svg" id="fi_8300875"><g id="_x30_1"><path d="m23.15 11.27h-11.86v-2.52c0-2.62 2.13-4.75 4.75-4.75 1.92 0 3.63 1.14 4.38 2.9.22.51.8.75 1.31.53.51-.21.75-.8.53-1.31-1.06-2.5-3.5-4.12-6.22-4.12-3.72 0-6.75 3.03-6.75 6.75v2.52h-.44c-2.21 0-4 1.79-4 4v10.73c0 2.21 1.79 4 4 4h14.3c2.21 0 4-1.79 4-4v-10.73c0-2.2-1.79-4-4-4zm2 14.73c0 1.1-.9 2-2 2h-14.3c-1.1 0-2-.9-2-2v-10.73c0-1.1.9-2 2-2h14.3c1.1 0 2 .9 2 2zm-7.35-5.65c0 .62-.32 1.18-.8 1.5v2.45c0 .55-.45 1-1 1s-1-.45-1-1v-2.45c-.48-.32-.8-.88-.8-1.5 0-.99.81-1.8 1.8-1.8s1.8.8 1.8 1.8z"></path></g></svg></i>
        <span class="label"><?php esc_html_e('Course Access :', 'wikilms');?></span>
        <span class="value"><?php echo esc_html( $course_access ); ?></span>
      </li>
      <?php endif; ?>
      
      <?php if ( $course_language ): ?>
      <li>
        <i><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="15" height="15" id="fi_2889312"><g id="Layer_2" data-name="Layer 2"><path d="M87.95636,73.23224a44.29242,44.29242,0,0,0,6.54358-23.23145L94.5,50l-.00006-.00079a44.2927,44.2927,0,0,0-6.54376-23.23169l-.02442-.03815a44.5022,44.5022,0,0,0-75.8634-.00031l-.02472.03864a44.51347,44.51347,0,0,0-.00018,46.46436l.02514.03918a44.50213,44.50213,0,0,0,75.86292-.00037Zm-32.26825,13.641a10.81448,10.81448,0,0,1-2.8894,1.99561,6.52134,6.52134,0,0,1-5.59748,0,13.62135,13.62135,0,0,1-5.04809-4.44233,39.77474,39.77474,0,0,1-5.74762-12.47064Q43.19588,71.538,50,71.53021q6.80127,0,13.59521.42572a50.19826,50.19826,0,0,1-2.438,6.71222A25.80323,25.80323,0,0,1,55.68811,86.87329ZM10.587,52.5H28.536a88.30459,88.30459,0,0,0,1.62274,14.91418q-7.35983.64766-14.68207,1.779A39.23059,39.23059,0,0,1,10.587,52.5Zm4.88964-21.69324Q22.796,31.941,30.16388,32.58618A88.15014,88.15014,0,0,0,28.5376,47.5H10.587A39.2306,39.2306,0,0,1,15.47662,30.80676ZM44.31183,13.12665a10.81146,10.81146,0,0,1,2.8894-1.99561,6.52134,6.52134,0,0,1,5.59748,0,13.62131,13.62131,0,0,1,5.04809,4.44232A39.77482,39.77482,0,0,1,63.59436,28.044Q56.804,28.46185,50,28.46973q-6.80127-.00009-13.59528-.42578a50.18985,50.18985,0,0,1,2.43805-6.71216A25.80254,25.80254,0,0,1,44.31183,13.12665ZM89.413,47.5H71.464a88.31173,88.31173,0,0,0-1.62274-14.91425q7.35992-.64764,14.68207-1.779A39.2306,39.2306,0,0,1,89.413,47.5ZM35.18756,67.02545A82.69645,82.69645,0,0,1,33.53729,52.5H66.4632a82.67828,82.67828,0,0,1-1.64728,14.52563Q57.41607,66.54,50,66.53027,42.58927,66.53018,35.18756,67.02545Zm29.62482-34.051A82.70224,82.70224,0,0,1,66.46259,47.5H33.53674A82.67914,82.67914,0,0,1,35.184,32.97424q7.39985.4855,14.816.49543Q57.41074,33.46967,64.81238,32.97449ZM71.46228,52.5H89.413a39.23052,39.23052,0,0,1-4.88971,16.69318q-7.31936-1.13435-14.68719-1.77942A88.14559,88.14559,0,0,0,71.46228,52.5ZM81.52539,26.20477q-6.39945.92331-12.83734,1.462a57.01792,57.01792,0,0,0-2.9754-8.39581,35.48007,35.48007,0,0,0-4.13984-7.04529A39.49152,39.49152,0,0,1,81.52539,26.20477ZM22.06915,22.06915a39.48682,39.48682,0,0,1,16.3559-9.84289c-.09369.12134-.19006.2373-.28241.36114A45.64338,45.64338,0,0,0,31.321,27.66754q-6.43816-.54528-12.84643-1.46277A39.82535,39.82535,0,0,1,22.06915,22.06915Zm-3.5946,51.726q6.39943-.9234,12.83728-1.462A57.01789,57.01789,0,0,0,34.28729,80.729a35.48425,35.48425,0,0,0,4.13983,7.04529A39.49154,39.49154,0,0,1,18.47455,73.79517Zm59.45624,4.13562a39.48587,39.48587,0,0,1-16.3559,9.84289c.09369-.12134.19-.2373.28241-.36114A45.64338,45.64338,0,0,0,68.679,72.3324q6.43816.54528,12.84643,1.46277A39.82535,39.82535,0,0,1,77.93079,77.93079Z"></path></g></svg></i>
        <span class="label"><?php esc_html_e('Language :', 'wikilms');?></span>
        <span class="value"><?php echo esc_html( $course_language ); ?></span>
      </li>
      <?php endif; ?>

      </ul>
      <div class="wikilms-popup-link wikilms-btn">
          <a href="#wikilms-get-popup"> <?php esc_html_e( 'Take This Course', 'wikilms' ); ?></a>
      </div>
      
      <!--wikilms-get-popup-->
      <div id="wikilms-get-popup" class="wikilms-popup-container">
        <div class="wikilms-popup-content">
          <a href="#" class="wikilms-close">&times;</a>

          <?php 
          if (!empty( $contact_shortcodes )) {
                echo do_shortcode( sprintf('[contact-form-7  id="' . $contact_shortcodes . '"]'));
            } else {
                echo '<div class="form_no_select">' . __('Please Select contact form.', 'wikilms') . '</div>';
            }
          ?>

        </div>
      </div>

    </div>

    <?php
}
